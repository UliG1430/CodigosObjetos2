package ar.edu.unlp.info.oo2.Ejercicio1Practica2;

import java.util.ArrayList;

import org.junit.jupiter.api.BeforeEach;

public class TopografiaTest {
	Topografia tm1;
	Topografia tm2;
	Topografia ts1;
	Topografia ts2;
	@BeforeEach
	void setUp() {
		ArrayList <Topografia> componentes1=new ArrayList<Topografia> ();
		componentes1.add(new Tierra());
		componentes1.add(new Agua());
		componentes1.add(new Agua());
		componentes1.add(new Pantano());
		tm1=new TopografiaMixta(componentes1);
		ArrayList <Topografia> componentes2=new ArrayList<Topografia> ();
		componentes1.add(new Agua());
		componentes1.add(new Tierra());
		componentes1.add(new Agua());
		componentes1.add(new Tierra());
		tm2=new TopografiaMixta(componentes2);
		ts1=new Agua();
		ts2=new Pantano();
	}
	
	@Test
	public void registrarUsuarioTest(){
		Usuario u=su1.registrarUsuario("Ulises", "ABC",1234);
		assertTrue(this.su1.getUsuarios().contains(u));
		Usuario u2=su2.registrarUsuario("222", "false", 1);
		assertFalse(this.su2.getUsuarios().contains(new Usuario ("Juan","A",2)));
	
		}
	
	@Test
	public void obtenerReservasTest() {
		Usuario u=su1.registrarUsuario("Ulises", "ABC",1234);
		Usuario u1=su1.registrarUsuario("TEO FORRO", "213",321);
		ServicioPropiedades sp1=new ServicioPropiedades();
		Propiedad p1=sp1.registrarPropiedad("A", "DESCRIPCION A", 19.99, "DIRECCION A", u);
		Reserva r1=sp1.hacerReserva(p1, new DateLapse1(LocalDate.of(2020, 1, 10),LocalDate.of(2020, 1, 20)), u);
		Propiedad p2=sp1.registrarPropiedad("B", "DESCRIPCION b", 19.99, "DIRECCION B", u);
		Reserva r2=sp1.hacerReserva(p2, new DateLapse1(LocalDate.of(2021, 1, 10),LocalDate.of(2021, 1, 20)), u);
		Reserva r3=sp1.hacerReserva(p2, new DateLapse1(LocalDate.of(2021, 1, 10),LocalDate.of(2021, 1, 20)), u1);
		List<Reserva> reservas=su1.reservasUsuario(u);
		assertTrue(reservas.contains(r1));
		assertTrue(reservas.contains(r2));
		assertFalse(reservas.contains(r3));
		
		
	}
	
}
}